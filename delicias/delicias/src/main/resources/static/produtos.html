<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Doce Sabor â€” Produtos</title>
  <link rel="stylesheet" href="css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>

<header class="site-header">
  <div class="container header-inner">
    <div class="brand">
      <img src="img/delicias da fer.png" alt="Delicias da Fer Lopes" class="logo">
      <div class="brand-text">
        <h1>Delicias</h1>
        <small>Fer Lopes</small>
      </div>
    </div>
    <nav class="main-nav">
      <a class="nav-link" href="index.html">InÃ­cio</a>
      <a class="nav-link active" href="produtos.html">Produtos</a>
      <a class="nav-link" href="sobre.html">Sobre</a>
      <a class="nav-link" href="contato.html">Contato</a>
      <a class="nav-link" href="carrinho.html">Carrinho</a>
    </nav>
    <div class="header-actions">
      <a class="phone" href="tel:+5511999999999">ðŸ“ž (15) 99717-2394</a>
      <a class="cart-link" href="carrinho.html">ðŸ›’ <span id="cart-count-badge">0</span></a>
    </div>
  </div>
</header>

<section class="section hero small-hero" style="position: relative; background-image: url('img/produtoss.jpg'); background-size: cover; background-position: center; background-attachment: fixed; color: #fff; overflow: hidden;">
  <!-- Overlay escuro -->
  <div style="position: absolute; inset: 0; background: rgba(255, 255, 255, 0.563); z-index: 0;"></div>

  <div class="container" style="position: relative; z-index: 1; text-align: center; animation: fadeSlideUp 1s ease-out;">
    <h2 class="section-title">Produtos</h2>
  </div>
</section>

<style>
  @keyframes fadeSlideUp {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>


<main class="container produtos-page">
  <div class="filtros">
    <input type="text" id="searchInput" placeholder="Buscar produto..." />
    <select id="filterCategory">
      <option value="">Todas as categorias</option>
      <option value="bolos">Bolos</option>
      <option value="doces">Doces</option>
      <option value="tortas">Tortas</option>
    </select>
  </div>

  <div id="produtosGrid" class="grid-cardapio"></div>
</main>

<footer class="site-footer">
  <div class="container footer-inner">
    <div>Â© <span id="year"></span> Delicias Fer Lopes â€” Todos os direitos reservados.</div>
    <div>ðŸ“ž (15) 99717-2394 â€¢ Sorocaba</div>
  </div>
</footer>

<script>
const produtosData = [
  { id:1, nome: "Bolo de Chocolate", preco: 45.00, categoria: "bolos", img: "img/bolo-chocolate.jpg" },
  { id:2, nome: "Brigadeiro Gourmet", preco: 4.00, categoria: "doces", img: "img/brigadeiro.jpg" },
  { id:3, nome: "Torta de LimÃ£o", preco: 32.00, categoria: "tortas", img: "img/torta-limao.jpg" },
  { id:4, nome: "Cupcake Red Velvet", preco: 7.00, categoria: "doces", img: "img/cupcake.jpg" }
];

const grid = document.getElementById("produtosGrid");
const searchInput = document.getElementById("searchInput");
const filterCategory = document.getElementById("filterCategory");
const cartCountBadge = document.getElementById("cart-count-badge");

function getCart() {
  return JSON.parse(localStorage.getItem("carrinho")) || [];
}

function setCart(cart) {
  localStorage.setItem("carrinho", JSON.stringify(cart));
}

function updateCartCount() {
  cartCountBadge.textContent = getCart().length;
}

function renderProdutos() {
  grid.innerHTML = "";
  const q = searchInput.value.trim().toLowerCase();
  produtosData
    .filter(p => p.nome.toLowerCase().includes(q) && (filterCategory.value === "" || p.categoria === filterCategory.value))
    .forEach(p => {
      const card = document.createElement("div");
      card.className = "card-produtos";
      card.innerHTML = `
        <img src="${p.img}" alt="${p.nome}">
        <h3>${p.nome}</h3>
        <p>R$ ${p.preco.toFixed(2)}</p>
        <button data-id="${p.id}" class="selecionar-btn">Selecionar</button>
      `;
      grid.appendChild(card);
    });

  document.querySelectorAll(".selecionar-btn").forEach(btn => {
    btn.addEventListener("click", () => {
      const produtoId = parseInt(btn.getAttribute("data-id"));
      const produto = produtosData.find(p => p.id === produtoId);
      let cart = getCart();
      cart.push(produto); // Permite adicionar mÃºltiplos produtos
      setCart(cart);
      updateCartCount();
      alert(`${produto.nome} adicionado ao carrinho!`);
    });
  });
}

searchInput.addEventListener("input", renderProdutos);
filterCategory.addEventListener("change", renderProdutos);
renderProdutos();
updateCartCount();
document.getElementById("year").textContent = new Date().getFullYear();
</script>
</body>
</html>
