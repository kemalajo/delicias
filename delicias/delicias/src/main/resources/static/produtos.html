<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Doce Sabor â€” Produtos</title>
    <link rel="stylesheet" href="css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <img
            src="img/delicias da fer.png"
            alt="Delicias da Fer Lopes"
            class="logo"
          />
          <div class="brand-text">
            <h1>Delicias</h1>
            <small>Fer Lopes</small>
          </div>
        </div>
        <nav class="main-nav">
          <a class="nav-link" href="index.html">InÃ­cio</a>
          <a class="nav-link active" href="produtos.html">Produtos</a>
          <a class="nav-link" href="sobre.html">Sobre</a>
          <a class="nav-link" href="carrinho.html">Carrinho</a>
        </nav>
        <div class="header-actions">
          <a class="phone" href="tel:+5511999999999">ðŸ“ž (15) 99717-2394</a>
          <a class="cart-link" href="carrinho.html"
            >ðŸ›’ <span id="cart-count-badge">0</span></a
          >
        </div>
      </div>
    </header>

    <!-- HERO -->
    <section
      class="section hero small-hero"
      style="
        position: relative;
        background-image: url('img/3e30b902036cb2ece2dedcb1822b0070.jpg');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        color: #fff;
        overflow: hidden;
      "
    >
      <div
        style="
          position: absolute;
          inset: 0;
          background: rgba(255, 255, 255, 0.419);
          z-index: 0;
        "
      ></div>
      <div
        class="container"
        style="
          position: relative;
          z-index: 1;
          text-align: center;
          animation: fadeSlideUp 1s ease-out;
        "
      >
        <h2 class="section-title"></h2>
      </div>
    </section>

    <main class="container produtos-page">
      <!-- FILTROS -->
      <div class="filtros">
        <input type="text" id="searchInput" placeholder="Buscar produto..." />
        <select id="filterCategory">
          <option value="">Todas as categorias</option>
          <option value="bolos">Bolos</option>
          <option value="doces">Doces</option>
          <option value="tortas">Tortas</option>
        </select>
      </div>

      <!-- BOTÃƒO SOMENTE PARA CONFEITEIRA -->
      <div id="adminArea" style="display:none; text-align:center; margin: 20px 0;">
        <button id="btnAddProduto" class="btn primary">âž• Adicionar Novo Produto</button>
      </div>

      <!-- GRID DE PRODUTOS -->
      <div id="produtosGrid" class="grid-cardapio"></div>

      <!-- FORMULÃRIO DE ADIÃ‡ÃƒO -->
      <div id="addProdutoForm" style="display:none; margin-top:30px;">
        <h3>Adicionar Novo Produto</h3>
        <input type="text" id="nomeProduto" placeholder="Nome do produto" required>
        <input type="text" id="precoProduto" placeholder="PreÃ§o (ex: R$ 25,00)" required>
        <input type="text" id="categoriaProduto" placeholder="Categoria (bolo, doce...)" required>
        <input type="text" id="imagemProduto" placeholder="URL da imagem" required>
        <button id="salvarProduto" class="btn primary">Salvar Produto</button>
      </div>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div>Â© <span id="year"></span> Delicias Fer Lopes â€” Todos os direitos reservados.</div>
        <div>ðŸ“ž (15) 99717-2394 â€¢ Sorocaba</div>
      </div>
    </footer>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const adminArea = document.getElementById('adminArea');
        const addProdutoForm = document.getElementById('addProdutoForm');
        const btnAddProduto = document.getElementById('btnAddProduto');
        const salvarProduto = document.getElementById('salvarProduto');
        const produtosGrid = document.getElementById('produtosGrid');

        // Verifica login
        const isLogada = localStorage.getItem('isConfeiteiraLogada') === 'true';
        if (isLogada) {
          adminArea.style.display = 'block';
        }

        btnAddProduto.addEventListener('click', () => {
          addProdutoForm.style.display =
            addProdutoForm.style.display === 'none' ? 'block' : 'none';
        });

        salvarProduto.addEventListener('click', () => {
          const nome = document.getElementById('nomeProduto').value.trim();
          const preco = document.getElementById('precoProduto').value.trim();
          const categoria = document.getElementById('categoriaProduto').value.trim();
          const imagem = document.getElementById('imagemProduto').value.trim();

          if (!nome || !preco || !imagem) {
            alert('Preencha todos os campos!');
            return;
          }

          const produtoCard = `
            <div class="card-produto">
              <img src="${imagem}" alt="${nome}">
              <h3>${nome}</h3>
              <p>${preco}</p>
              <button>Adicionar ao Carrinho</button>
            </div>
          `;
          produtosGrid.insertAdjacentHTML('beforeend', produtoCard);

          document.getElementById('nomeProduto').value = '';
          document.getElementById('precoProduto').value = '';
          document.getElementById('categoriaProduto').value = '';
          document.getElementById('imagemProduto').value = '';
          addProdutoForm.style.display = 'none';
        });
      });
    </script>

    <script src="js/script.js"></script>
  </body>
</html>
